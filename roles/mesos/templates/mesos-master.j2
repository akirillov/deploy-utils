# mesos-master.conf
# Generated by Ansible for {{ansible_fqdn}}

description "mesos master"

start on runlevel [2345]
respawn

# Command line options: http://mesos.apache.org/documentation/latest/configuration/
script
  [ ! -f /etc/default/mesos ]     || . /etc/default/mesos
  [ ! -f /etc/mesos/master.conf ] || . /etc/mesos/master.conf
  [ -z "${ULIMIT:-}" ] || ulimit $ULIMIT
  exec /usr/local/sbin/mesos-master \
    ${ZK:+--zk=$ZK} \
    ${IP:+--ip=$IP} \
    ${MESOS_HOSTNAME:+--hostname=$MESOS_HOSTNAME} \
    ${PORT:+--port=$PORT} \
    ${CLUSTER:+--cluster=$CLUSTER} \
    ${WORK_DIR:+--work_dir=$WORK_DIR} \
    ${QUORUM:+--quorum=$QUORUM} \
    ${WHITELIST:+--whitelist=$WHITELIST} \
    $OPTS \
    >> "$LOGS"/master.log 2>&1
end script
