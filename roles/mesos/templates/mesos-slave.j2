# mesos-slave.conf
# Generated by Ansible for {{ansible_fqdn}}

description "mesos slave"

start on runlevel [2345]
respawn

# Command line options: http://mesos.apache.org/documentation/latest/configuration/

script
  [ ! -f /etc/default/mesos ]    || . /etc/default/mesos
  [ ! -f /etc/mesos/slave.conf ] || . /etc/mesos/slave.conf
  [ -z "${ULIMIT:-}" ] || ulimit $ULIMIT
  exec /usr/local/sbin/mesos-slave \
    ${MASTER:+--master=$MASTER} \
    ${IP:+--ip=$IP} \
    ${MESOS_HOSTNAME:+--hostname=$MESOS_HOSTNAME} \
    ${PORT:+--port=$PORT} \
    ${WORKDIR:+--work_dir=$WORKDIR} \
    ${ISOLATION:+--isolation=$ISOLATION} \
    ${CONTAINERIZER_PATH:+--containerizer_path=$CONTAINERIZER_PATH} \
    ${CGROUPS_HIERARCHY:+--cgroups_hierarchy=$CGROUPS_HIERARCHY} \
    ${CGROUPS_ROOT:+--cgroups_root=$CGROUPS_ROOT} \
    $OPTS \
    >> "$LOGS"/slave.log 2>&1
end script
